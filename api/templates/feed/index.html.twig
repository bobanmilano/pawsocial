{% extends 'base.html.twig' %}

{% block title %}Feed{% endblock %}

{% block body %}
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            
            <div class="d-flex justify-content-center mb-5 mt-2">
                <div class="glass-card p-1 rounded-pill d-inline-flex shadow-sm bg-white bg-opacity-50">
                    <a href="{{ path('app_feed', {'feed': 'all'}) }}" 
                       class="btn rounded-pill px-4 py-2 transition-all fw-semibold {{ (feedMode is not defined or feedMode == 'all') ? 'btn-premium' : 'btn-link text-muted text-decoration-none' }}">
                        <i class="bi bi-globe-americas me-2"></i> Global Pack
                    </a>
                    <a href="{{ path('app_feed', {'feed': 'following'}) }}" 
                       class="btn rounded-pill px-4 py-2 transition-all fw-semibold {{ (feedMode is defined and feedMode == 'following') ? 'btn-premium' : 'btn-link text-muted text-decoration-none' }}">
                        <i class="bi bi-people me-2"></i> My Connections
                    </a>
                </div>
            </div>

            {# Posting Form #}
            {% include 'feed/_form.html.twig' with {'form': form} %}

            {# Feed Stream #}
            <div id="feed-stream">
                {% for post in posts %}
                    {% include 'feed/_post_card.html.twig' with {'post': post} %}
                {% else %}
                    <div class="text-center py-5">
                        <h3>No posts yet! ðŸ¦—</h3>
                        <p class="text-muted">Be the first to share something with the pack.</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}
